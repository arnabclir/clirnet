<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fat-Free Mass (LBW) - Male Adults - Drug Dosing</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        body { background: linear-gradient(to bottom, #f5f3ff 0%, #fff5fb 100%); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .calculator-header { background: var(--primary-gradient); color: white; padding: 2.5rem 0; margin-bottom: 2rem; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); }
        .calculator-header h1 { font-weight: 700; margin-bottom: 0.5rem; }
        .calculator-card { background: white; border: none; border-radius: 12px; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12); margin-bottom: 2rem; }
        .section-header { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-left: 4px solid #667eea; padding: 1rem; margin-bottom: 1.5rem; border-radius: 4px; }
        .section-header h5 { color: #764ba2; font-weight: 600; margin: 0; }
        .input-group-text { background: var(--primary-gradient); color: white; border: none; font-weight: 600; }
        .form-control:focus { border-color: #667eea; box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25); }
        .btn-primary { background: var(--primary-gradient); border: none; padding: 0.75rem 2rem; font-weight: 600; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4); }
        .result-box { background: linear-gradient(135deg, #d4edda 0%, #a8e6c9 100%); border-left: 4px solid #28a745; padding: 2rem; border-radius: 8px; margin-top: 2rem; }
        .result-score { font-size: 2.5rem; font-weight: 700; color: #28a745; margin-bottom: 0.5rem; }
        .result-details { background: white; border-radius: 8px; padding: 1rem; margin-top: 1rem; }
        .detail-row { display: flex; justify-content: space-between; padding: 0.75rem 0; border-bottom: 1px solid #e9ecef; }
        .detail-row:last-child { border-bottom: none; }
        label { color: #333; font-weight: 500; margin-bottom: 0.5rem; }
        .alert-info { background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%); border: none; border-left: 4px solid #0c5460; color: #0c5460; }
        .reference-box { background: #f8f9fa; border-left: 4px solid #667eea; padding: 1rem; border-radius: 6px; margin-top: 1rem; }
        .formula-box { background: #f5f7fa; border: 2px solid #667eea; padding: 1.5rem; border-radius: 8px; margin-top: 1.5rem; font-family: monospace; text-align: center; font-weight: bold; }
        .clinical-use { background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border-left: 4px solid #4caf50; padding: 1rem; border-radius: 6px; margin-top: 1rem; }
        .note-box { background: #fff3cd; border-left: 4px solid #ffc107; padding: 1rem; border-radius: 6px; margin-top: 1rem; }
    </style>
</head>
<body>
    <div class="calculator-header">
        <div class="container">
            <h1><i class="fas fa-male"></i> Fat-Free Mass (LBW) - Male Adults</h1>
            <p>Ideal Body Weight Calculator for Drug Dosing</p>
        </div>
    </div>

    <div class="container">
        <div class="alert alert-info alert-dismissible fade show" role="alert">
            <i class="fas fa-info-circle"></i> <strong>Clinical Tool:</strong> Calculate lean body weight for accurate drug dosing in males
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>

        <div class="row">
            <div class="col-lg-8 offset-lg-2">
                <div class="calculator-card">
                    <div class="card-body p-4">
                        <div class="section-header">
                            <h5><i class="fas fa-user"></i> Patient Information</h5>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="height_cm" class="form-label">Height (cm)</label>
                                <div class="input-group input-group-lg">
                                    <input type="number" class="form-control" id="height_cm" placeholder="175" min="50" max="250" step="0.1" onchange="calculateLBW()">
                                    <span class="input-group-text">cm</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="weight_kg" class="form-label">Actual Body Weight (kg)</label>
                                <div class="input-group input-group-lg">
                                    <input type="number" class="form-control" id="weight_kg" placeholder="80" min="10" max="500" step="0.1" onchange="calculateLBW()">
                                    <span class="input-group-text">kg</span>
                                </div>
                            </div>
                        </div>

                        <button type="button" class="btn btn-primary btn-lg w-100" onclick="calculateLBW()">
                            <i class="fas fa-calculator"></i> Calculate LBW
                        </button>

                        <div id="resultsContainer"></div>
                    </div>
                </div>

                <div class="calculator-card">
                    <div class="card-body p-4">
                        <h5 class="mb-3"><i class="fas fa-flask-vial"></i> Formula</h5>

                        <div class="formula-box">
                            LBW = 50 kg + 0.91 × (Height in cm - 152.4)<br>
                            <small style="font-size: 0.8rem; margin-top: 0.5rem; display: block;">Devine Formula (for males)</small>
                        </div>

                        <div class="clinical-use">
                            <strong><i class="fas fa-stethoscope"></i> Clinical Applications:</strong>
                            <ul class="mb-0 mt-2" style="font-size: 0.95rem;">
                                <li>Calculate optimal drug dosing (pharmacokinetics)</li>
                                <li>Especially important for drugs with narrow therapeutic index</li>
                                <li>Better indicator than total body weight for organ function estimation</li>
                                <li>Use for renal/hepatic impairment adjustments</li>
                                <li>Calculate GFR (Glomerular Filtration Rate) estimates</li>
                            </ul>
                        </div>

                        <h6 class="mt-4 mb-2"><i class="fas fa-lightbulb"></i> When to Use LBW</h6>
                        <div class="reference-box">
                            <p class="mb-2"><strong>Use LBW instead of actual weight for:</strong></p>
                            <ul class="small mb-0">
                                <li>Obese patients (ABW > LBW)</li>
                                <li>Drug clearance estimation</li>
                                <li>Fluid dosing calculations</li>
                                <li>Medication dosing in general</li>
                                <li>Anthropometric measurements</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="calculator-card">
                    <div class="card-body p-4">
                        <h5 class="mb-3"><i class="fas fa-stethoscope"></i> Clinical Notes</h5>

                        <p>Fat-Free Mass (Lean Body Weight) represents body weight excluding all extractable lipids. It's the metabolically active mass that determines drug clearance and organ function.</p>

                        <h6 class="mt-3 mb-2"><i class="fas fa-info-circle"></i> Key Differences</h6>
                        <div class="reference-box">
                            <p class="mb-2"><strong>Actual Body Weight (ABW):</strong> Total body weight as measured</p>
                            <p class="mb-2"><strong>Ideal Body Weight (IBW):</strong> Standard weight for height</p>
                            <p class="mb-0"><strong>Lean Body Weight (LBW):</strong> Weight excluding body fat</p>
                        </div>

                        <h6 class="mt-3 mb-2">Adjusted Body Weight (AdjBW):</h6>
                        <div class="reference-box" style="font-family: monospace;">
                            AdjBW = IBW + 0.4 × (ABW - IBW)<br>
                            <small style="font-family: 'Segoe UI';">Used when actual weight is significantly above ideal weight</small>
                        </div>

                        <div class="note-box">
                            <i class="fas fa-exclamation-triangle"></i> <strong>Note:</strong> This is a mathematical estimate. Clinical judgment and institutional protocols should guide medication dosing.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Calculate Fat-Free Mass (LBW) for Males
        // Formula: LBW = 50 + 0.91 × (height in cm - 152.4)
        function calculateLBW() {
            const height = parseFloat(document.getElementById('height_cm').value);
            const actualWeight = parseFloat(document.getElementById('weight_kg').value);

            if (isNaN(height) || isNaN(actualWeight) || height <= 0 || actualWeight <= 0) {
                document.getElementById('resultsContainer').innerHTML = '';
                return;
            }

            const lbw = 50 + (0.91 * (height - 152.4));
            const fatMass = actualWeight - lbw;
            const bodyFatPercent = (fatMass / actualWeight) * 100;

            let weightStatus = '';
            if (actualWeight < lbw * 0.9) {
                weightStatus = 'Underweight';
            } else if (actualWeight <= lbw * 1.1) {
                weightStatus = 'Ideal weight';
            } else {
                weightStatus = 'Above ideal weight';
            }

            const resultsHTML = `
                <div class="result-box">
                    <div class="row">
                        <div class="col-md-8">
                            <div class="result-score">${lbw.toFixed(1)} kg</div>
                            <h5>Lean Body Weight (LBW)</h5>
                        </div>
                        <div class="col-md-4 text-center">
                            <div style="font-size: 3rem; color: #28a745;">
                                <i class="fas fa-male"></i>
                            </div>
                        </div>
                    </div>

                    <div class="result-details">
                        <div class="detail-row">
                            <span><strong>Height:</strong></span>
                            <span>${height.toFixed(1)} cm</span>
                        </div>
                        <div class="detail-row">
                            <span><strong>Actual Body Weight:</strong></span>
                            <span>${actualWeight.toFixed(1)} kg</span>
                        </div>
                        <div class="detail-row">
                            <span><strong>Lean Body Weight:</strong></span>
                            <span style="color: #28a745; font-weight: 700;">${lbw.toFixed(1)} kg</span>
                        </div>
                        <div class="detail-row">
                            <span><strong>Estimated Fat Mass:</strong></span>
                            <span>${fatMass.toFixed(1)} kg</span>
                        </div>
                        <div class="detail-row">
                            <span><strong>Body Fat %:</strong></span>
                            <span>${bodyFatPercent.toFixed(1)}%</span>
                        </div>
                        <div class="detail-row">
                            <span><strong>Weight Status:</strong></span>
                            <span>${weightStatus}</span>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('resultsContainer').innerHTML = resultsHTML;
        }
    </script>
</body>
</html>
