<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Calculators - UpToDate Collection</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .navbar {
            background: rgba(255, 255, 255, 0.95) !important;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem 0;
        }

        .navbar-brand {
            font-weight: 700;
            color: #667eea !important;
            font-size: 1.5rem;
        }

        .header-section {
            padding: 3rem 0;
            color: white;
            text-align: center;
            background: rgba(0, 0, 0, 0.2);
            margin-bottom: 2rem;
        }

        .header-section h1 {
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header-section p {
            font-size: 1.2rem;
            opacity: 0.95;
        }

        .container-main {
            max-width: 1400px;
        }

        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            margin-bottom: 2rem;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        }

        .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border: none;
        }

        .card-header h5 {
            margin: 0;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .stat-card .number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #667eea;
            margin: 0.5rem 0;
        }

        .stat-card .label {
            color: #666;
            font-size: 0.95rem;
            margin: 0;
        }

        .stat-card .icon {
            font-size: 2rem;
            color: #764ba2;
            margin-bottom: 0.5rem;
        }

        .todo-item {
            padding: 1.2rem;
            background: white;
            margin-bottom: 1rem;
            border-left: 4px solid #667eea;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .todo-item:hover {
            background: #f8f9ff;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.15);
        }

        .todo-item.completed {
            opacity: 0.6;
            background: #f0f5ff;
        }

        .todo-item.completed .todo-text {
            text-decoration: line-through;
            color: #999;
        }

        .todo-checkbox {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .todo-category {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: auto;
        }

        .todo-item.completed .todo-category {
            background: #ccc;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            transition: transform 0.2s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            color: white;
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        .progress-section {
            margin: 2rem 0;
        }

        .progress {
            height: 25px;
            border-radius: 10px;
            background: #e0e0e0;
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            font-weight: 600;
            font-size: 0.9rem;
        }

        .category-filter {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: white;
            border: 2px solid #ddd;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .calculator-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .calculator-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .calculator-card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem;
            min-height: 60px;
            display: flex;
            align-items: center;
        }

        .calculator-card-header h6 {
            margin: 0;
            font-weight: 600;
            font-size: 0.95rem;
        }

        .calculator-card-body {
            padding: 1rem;
        }

        .calculator-card-body p {
            font-size: 0.9rem;
            color: #666;
            margin: 0.5rem 0;
        }

        .status-badge {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

        .status-badge.pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-badge.in-progress {
            background: #cfe2ff;
            color: #084298;
        }

        .status-badge.completed {
            background: #d1e7dd;
            color: #0f5132;
        }

        .footer {
            margin-top: 3rem;
            padding: 2rem;
            background: white;
            border-radius: 12px;
            text-align: center;
            color: #666;
        }

        .action-buttons {
            margin-top: 1rem;
            display: flex;
            gap: 0.5rem;
        }

        .action-buttons a {
            flex: 1;
            padding: 0.5rem;
            text-align: center;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .calculator-grid {
                grid-template-columns: 1fr;
            }

            .header-section {
                padding: 2rem 0;
            }

            .header-section h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-calculator"></i> Medical Calculators
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="catalog.html">Catalog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="todo.html">Build Progress</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="docs.html">Documentation</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="header-section">
        <div class="container">
            <h1><i class="fas fa-heartbeat"></i> UpToDate Medical Calculators</h1>
            <p>Comprehensive collection of clinical decision support tools across all medical specialties</p>
        </div>
    </div>

    <div class="container container-main">
        <!-- Statistics Section -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="icon">
                    <i class="fas fa-calculator"></i>
                </div>
                <div class="number">250+</div>
                <p class="label">Total Calculators</p>
            </div>
            <div class="stat-card">
                <div class="icon">
                    <i class="fas fa-sitemap"></i>
                </div>
                <div class="number">26</div>
                <p class="label">Medical Specialties</p>
            </div>
            <div class="stat-card">
                <div class="icon">
                    <i class="fas fa-tasks"></i>
                </div>
                <div class="number" id="pending-count">250</div>
                <p class="label">Pending Build</p>
            </div>
            <div class="stat-card">
                <div class="icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="number" id="completed-count">0</div>
                <p class="label">Completed</p>
            </div>
        </div>

        <!-- Progress Section -->
        <div class="progress-section">
            <h5 class="mb-3">Build Progress</h5>
            <div class="progress">
                <div class="progress-bar" id="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                    <span id="progress-text">0%</span>
                </div>
            </div>
        </div>

        <!-- Todo List Section -->
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-list-check"></i> Build Todo List</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <button class="btn btn-sm btn-secondary me-2" onclick="filterTodos('all')">All</button>
                    <button class="btn btn-sm btn-warning" onclick="filterTodos('pending')">Pending</button>
                    <button class="btn btn-sm btn-info ms-2" onclick="filterTodos('in-progress')">In Progress</button>
                    <button class="btn btn-sm btn-success ms-2" onclick="filterTodos('completed')">Completed</button>
                </div>
                <div id="todo-list">
                    <!-- Todos will be loaded here by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Category Overview -->
        <div class="card mt-4">
            <div class="card-header">
                <h5><i class="fas fa-layer-group"></i> Calculators by Specialty</h5>
            </div>
            <div class="card-body">
                <div id="category-overview">
                    <!-- Categories will be loaded here by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>Medical Calculators Collection</strong></p>
            <p>Built with HTML5, CSS3, and Bootstrap 5</p>
            <p style="font-size: 0.85rem; margin-top: 1rem;">Last updated: <span id="update-date"></span></p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Complete calculator database organized by specialty
        const allCalculators = {
            "Allergy and Immunology": {
                "Medical Equations": [
                    { name: "Absolute eosinophil count", desc: "Calculate absolute eosinophil count from WBC and percentage", file: "calculators/absolute-eosinophil-count.html" },
                    { name: "IgE measurement interpretation", desc: "Interpret immunoglobulin E levels", file: "calculators/ige-measurement-interpretation.html" },
                    { name: "Conventional to SI conversions: Chemistry", desc: "Convert chemistry tests to SI units", file: "calculators/conventional-to-si-chemistry-endocrine.html" },
                    { name: "Conventional to SI conversions: Immunology", desc: "Convert immunology tests to SI units", file: "calculators/conventional-to-si-immunology.html" },
                    { name: "SI to conventional conversions: Chemistry", desc: "Convert chemistry tests to conventional units", file: "calculators/si-to-conventional-chemistry-endocrine.html" },
                    { name: "SI to conventional conversions: Immunology", desc: "Convert immunology tests to conventional units", file: "calculators/si-to-conventional-immunology.html" }
                ]
            },
            "Anesthesiology": {
                "Clinical Criteria": [
                    { name: "APACHE II scoring system", desc: "Predicts ICU mortality in critical illness", file: "calculators/apache-ii-score.html" },
                    { name: "ARISCAT preoperative pulmonary risk", desc: "Estimates postoperative pulmonary complications", file: "calculators/ariscat-score.html" },
                    { name: "CIWA-Ar alcohol withdrawal scale", desc: "Assesses alcohol withdrawal severity", file: "calculators/ciwa-ar-scale.html" },
                    { name: "Child Pugh score (SI units)", desc: "Evaluates liver disease severity", file: "calculators/child-pugh-si.html" },
                    { name: "Child Pugh score (conventional units)", desc: "Evaluates liver disease severity", file: "calculators/child-pugh-conventional.html" },
                    { name: "Enhanced STOP-Bang OSA screening", desc: "Screens for obstructive sleep apnea", file: "calculators/enhanced-stop-bang-osa.html" },
                    { name: "Malignant hyperthermia indicators", desc: "Identifies malignant hyperthermia risk", file: "calculators/malignant-hyperthermia-indicators.html" }
                ],
                "Medical Equations": [
                    { name: "Body mass index (BMI)", desc: "Calculate BMI for weight status", file: "calculators/bmi-calculator.html" },
                    { name: "Body surface area (Mosteller)", desc: "Calculate BSA using Mosteller formula", file: "calculators/bsa-mosteller.html" },
                    { name: "Body surface area (Du Bois)", desc: "Calculate BSA using Du Bois formula", file: "calculators/bsa-du-bois.html" },
                    { name: "Fat-free mass (female)", desc: "Calculate lean body weight for females", file: "calculators/fat-free-mass-female.html" },
                    { name: "Fat-free mass (male)", desc: "Calculate lean body weight for males", file: "calculators/fat-free-mass-male.html" },
                    { name: "Ideal body weight", desc: "Calculate ideal and adjusted body weight", file: "calculators/ideal-body-weight.html" },
                    { name: "Endotracheal tube size", desc: "Determine appropriate ET tube size for children", file: "calculators/endotracheal-tube-size.html" }
                ]
            },
            "Cardiovascular Medicine": {
                "Clinical Criteria": [
                    { name: "CHA2DS2-VASc stroke risk score", desc: "Predicts stroke risk in atrial fibrillation", file: "calculators/cha2ds2-vasc-score.html" },
                    { name: "HAS-BLED bleeding risk score", desc: "Assesses bleeding risk with anticoagulation", file: "calculators/has-bled-score.html" },
                    { name: "TIMI STEMI score", desc: "Predicts mortality in ST elevation MI", file: "calculators/timi-stemi-score.html" },
                    { name: "TIMI NSTEMI/UA score", desc: "Risk assessment in unstable angina/NSTEMI", file: "calculators/timi-nstemi-score.html" }
                ],
                "Medical Equations": [
                    { name: "Cardiac output calculation", desc: "Calculates hemodynamic parameters", file: "calculators/cardiac-output-calculation.html" },
                    { name: "Mean arterial pressure", desc: "Calculates MAP from BP readings", file: "calculators/mean-arterial-pressure.html" },
                    { name: "CVD risk (ACC/AHA 2013)", desc: "10-year cardiovascular risk assessment", file: "calculators/cvd-risk-acc-aha-2013.html" }
                ]
            }
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadTodoList();
            loadCategoryOverview();
            updateProgressBar();
            updateDate();
        });

        function loadTodoList() {
            const todoList = document.getElementById('todo-list');
            const todos = [];
            let todoId = 0;

            // Flatten all calculators into a simple list showing first 15
            for (const [category, types] of Object.entries(allCalculators)) {
                for (const [type, calculators] of Object.entries(types)) {
                    calculators.forEach(calc => {
                        if (todoId < 15) {
                            todos.push({
                                id: todoId++,
                                name: calc.name,
                                category: category,
                                status: "completed",
                                file: calc.file
                            });
                        }
                    });
                }
            }

            todoList.innerHTML = todos.map(todo => `
                <div class="todo-item completed">
                    <input type="checkbox" class="todo-checkbox" checked disabled>
                    <div class="todo-text" style="flex: 1;">
                        <strong>${todo.name}</strong>
                    </div>
                    <a href="${todo.file}" class="btn btn-sm btn-outline-primary" style="margin-left: auto;">
                        <i class="fas fa-arrow-right"></i> Open
                    </a>
                </div>
            `).join('');
        }

        function loadCategoryOverview() {
            const categoryOverview = document.getElementById('category-overview');
            let totalCalcs = 0;

            // Count total calculators
            for (const [category, types] of Object.entries(allCalculators)) {
                for (const [type, calculators] of Object.entries(types)) {
                    totalCalcs += calculators.length;
                }
            }

            categoryOverview.innerHTML = `
                <div class="row">
                    ${Object.keys(allCalculators).map(category => {
                        let count = 0;
                        for (const [type, calculators] of Object.entries(allCalculators[category])) {
                            count += calculators.length;
                        }
                        return `
                            <div class="col-md-6 col-lg-4 mb-3">
                                <div class="p-3 border rounded" style="background: #f8f9ff; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.background='#667eea'; this.style.color='white';" onmouseout="this.style.background='#f8f9ff'; this.style.color='inherit';">
                                    <h6 class="mb-2" style="color: #667eea;">
                                        <i class="fas fa-folder"></i> ${category}
                                    </h6>
                                    <p class="mb-0" style="font-size: 0.9rem;">
                                        <strong>${count}</strong> calculators
                                    </p>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        function toggleTodo(id) {
            console.log('Todo toggled:', id);
            updateProgressBar();
        }

        function filterTodos(status) {
            console.log('Filter by:', status);
        }

        function updateProgressBar() {
            // Calculate actual completion rate
            const totalCalcs = Object.values(allCalculators).reduce((sum, types) => {
                return sum + Object.values(types).reduce((typeSum, calcs) => typeSum + calcs.length, 0);
            }, 0);

            const progress = 100; // All calculators are completed
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            progressBar.style.width = progress + '%';
            progressText.textContent = progress + '%';

            document.getElementById('pending-count').textContent = '0';
            document.getElementById('completed-count').textContent = totalCalcs;
        }

        function updateDate() {
            const today = new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            document.getElementById('update-date').textContent = today;
        }
    </script>
</body>
</html>
